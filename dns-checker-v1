import socket
import time
import sys
from datetime import datetime




#Hosts to search for
int1 = "ssjc1-netscripts-prod-node01"
ext1 = "netflix.com"
ext2 = "google.com"

list_of_hosts = (ext1, ext2, int1)


#checks for DNS and sends to file dns-checker-errors.txt"
def dnschecker():
   for host in list_of_hosts:
      currenttime = str(datetime.now())
      try:
         print socket.gethostbyname(host)
      except socket.gaierror as e:
         errormessage = "could not resolve DNS for %s at %s " % (host, currenttime)
         print errormessage
         with open("dns-checker-errors.txt", "a") as myfile:
            myfile.write("%s \n" % (errormessage))
dnschecker()



#crontab config (osx)
#env EDITOR=nano crontab -e
#MAILTO=""
#1 * * * * cd /Users/mzipp/DNS-Checker/ && /usr/bin/python /Users/mzipp/DNS-Checker/dns-checker-v1

